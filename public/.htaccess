
# Enable rewriting and necessary modules
RewriteEngine On
Options +FollowSymLinks
AddType application/xml .xml

# Force XML content type for all XML files
<FilesMatch "\.xml$">
    ForceType application/xml
    Header set Content-Type "application/xml; charset=utf-8"
</FilesMatch>

# Specific rule for sitemap.xml with stronger content type enforcement
<Files "sitemap.xml">
    ForceType application/xml
    Header set Content-Type "application/xml; charset=utf-8"
    Header set X-Content-Type-Options "nosniff"
</Files>

# If the requested file exists, serve it directly (important for XML files)
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^(.*)$ $1 [L,QSA]

# For all other requests that aren't files or directories,
# send to index.html for SPA routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.html [QSA,L]
