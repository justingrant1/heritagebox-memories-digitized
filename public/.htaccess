

# Enable rewriting and necessary modules
RewriteEngine On
Options +FollowSymLinks
AddType application/xml .xml

# Force XML content type for all XML files
<FilesMatch "\.xml$">
    ForceType application/xml
    Header set Content-Type "application/xml; charset=utf-8"
</FilesMatch>

# Specific rule for sitemap.xml with stronger content type enforcement
<Files "sitemap.xml">
    ForceType application/xml
    Header set Content-Type "application/xml; charset=utf-8"
    Header set X-Content-Type-Options "nosniff"
</Files>

# Handle static assets first - serve them directly if they exist
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot|xml|txt|json|map)$ [NC]
RewriteRule . - [L]

# For all other requests that don't match existing files or directories,
# redirect to index.html to let React Router handle the routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

